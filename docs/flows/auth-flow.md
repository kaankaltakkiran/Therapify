# Therapify Authentication Flow Diagrams

## 1. User Registration Flow

```
                                     ┌─────────────────┐
                                     │   Start         │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │  Visit Register │
                                     │     Page        │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                    ┌───────────────►│  Fill Register  │◄──────────────┐
                    │                │     Form        │               │
                    │                └────────┬────────┘               │
                    │                         │                        │
                    │                         ▼                        │
                    │                ┌─────────────────┐               │
                    │                │   Validation    │               │
                    │                │    Check        │               │
                    │                └────────┬────────┘               │
                    │                         │                        │
                    │                         ▼                        │
                    │                ┌─────────────────┐               │
                    └────────No─────►│   Valid Data?   │───No─────────┘
                                     └────────┬────────┘
                                              │
                                              │Yes
                                              ▼
                                     ┌─────────────────┐
                                     │  Create Account │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │   Send Email    │
                                     │  Verification   │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │ Redirect to     │
                                     │ Verify Email    │
                                     └─────────────────┘
```

## 2. Login Flow

```
                                     ┌─────────────────┐
                                     │     Start       │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │   Visit Login   │
                                     │     Page        │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                    ┌───────────────►│   Fill Login    │◄──────────────┐
                    │                │     Form        │               │
                    │                └────────┬────────┘               │
                    │                         │                        │
                    │                         ▼                        │
                    │                ┌─────────────────┐               │
                    │                │  Authenticate   │               │
                    │                │    User         │               │
                    │                └────────┬────────┘               │
                    │                         │                        │
                    │                         ▼                        │
                    └────────No─────►┌─────────────────┐───No─────────┘
                                     │    Valid        │
                                     │  Credentials?   │
                                     └────────┬────────┘
                                              │
                                              │Yes
                                              ▼
                                     ┌─────────────────┐
                                     │   2FA Enabled?  │
                                     └────────┬────────┘
                                              │
                                     ┌────────┴────────┐
                                   Yes│               │No
                                     ▼               ▼
                    ┌─────────────────┐    ┌─────────────────┐
                    │  Prompt 2FA     │    │   Generate JWT  │
                    │    Code         │    │     Token       │
                    └────────┬────────┘    └────────┬────────┘
                             │                      │
                             ▼                      │
                    ┌─────────────────┐             │
                    │  Verify 2FA     │             │
                    │    Code         │             │
                    └────────┬────────┘             │
                             │                      │
                             ▼                      ▼
                                     ┌─────────────────┐
                                     │  Redirect to    │
                                     │   Dashboard     │
                                     └─────────────────┘
```

## 3. Password Reset Flow

```
                                     ┌─────────────────┐
                                     │     Start       │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │  Visit Forgot   │
                                     │  Password Page  │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                    ┌───────────────►│   Enter Email   │◄──────────────┐
                    │                └────────┬────────┘               │
                    │                         │                        │
                    │                         ▼                        │
                    │                ┌─────────────────┐               │
                    │                │   Validate      │               │
                    │                │    Email        │               │
                    │                └────────┬────────┘               │
                    │                         │                        │
                    │                         ▼                        │
                    └────────No─────►┌─────────────────┐───No─────────┘
                                     │  Valid Email?    │
                                     └────────┬────────┘
                                              │
                                              │Yes
                                              ▼
                                     ┌─────────────────┐
                                     │   Send Reset    │
                                     │    Email        │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │  Click Reset    │
                                     │    Link         │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │  Enter New      │
                                     │   Password      │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │  Update         │
                                     │  Password       │
                                     └────────┬────────┘
                                              │
                                              ▼
                                     ┌─────────────────┐
                                     │  Redirect to    │
                                     │   Login         │
                                     └─────────────────┘
```
